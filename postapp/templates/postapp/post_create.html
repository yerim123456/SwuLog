{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="post-create-container">
    <header class="post-create-header">
        <a href="{% url 'postapp:post_list' %}" class="back-button">뒤로 가기</a>
        <button class="submit-button" id="submitButton">등록</button>
    </header>
    <form id="postForm" method="post" enctype="multipart/form-data" autocomplete="on">
        {% csrf_token %}
        <div class="input-group">
            <input type="text" name="title" id="title" placeholder="제목" required>
        </div>
        <div class="input-group">
            <textarea name="content" id="content" placeholder="본문에 #을 이용해 태그를 입력해보세요! (최대 30개)" rows="10" required></textarea>
        </div>
        <div class="input-group">
            <input type="file" name="photos" id="photos" multiple style="display: none;">
        </div>
    </form>
    <div class="bottom-toolbar">
        <button type="button" class="toolbar-button" id="cameraButton"><img src="{% static 'css/icons/camera-icon.png' %}" alt="카메라 아이콘"></button>
        <button type="button" class="toolbar-button"><img src="{% static 'css/icons/text-icon.png' %}" alt="텍스트 아이콘"></button>
        <button type="button" class="toolbar-button"><img src="{% static 'css/icons/lineup-icon.png' %}" alt="리스트 아이콘"></button>
        <button type="button" class="toolbar-button"><img src="{% static 'css/icons/smile-icon.png' %}" alt="스마일 아이콘"></button>
        <button type="button" class="toolbar-button">저장</button>
    </div>
</div>

<script>
    // Submit 버튼 클릭 시 폼 제출 및 초기화
    document.getElementById('submitButton').addEventListener('click', function() {
        document.getElementById('postForm').submit();
        document.getElementById('postForm').reset();
    });

    // 카메라 버튼 클릭 시 파일 선택 창 열기
    document.getElementById('cameraButton').addEventListener('click', function() {
        document.getElementById('photos').click();
    });
</script>
{% endblock %}

